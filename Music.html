<!doctype html>
    <html lang="en">
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Music</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
        <link rel="stylesheet" href="style.css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
      </head>

    <body id="music">


    <div id="nav">

      <nav class="navbar navbar-dark bg-dark fixed-top">
          <div class="container-fluid">
            <p class="togheter"><a class="navbar-brand" href="HomePage.html">BeatFlow</a><img id="logo" src="./img/logo.png" alt=""></p>
          <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
          </button>
          <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar" aria-labelledby="offcanvasDarkNavbarLabel">
              <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">BeatFlow</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
              <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                  <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="HomePage.html">Home</a>
                  </li>
                  <li class="nav-item">
                  <a class="nav-link" href="index.html">LogOut</a>
                  </li>
                  <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Services
                  </a>
                  <ul class="dropdown-menu dropdown-menu-dark">
                      <li><a class="dropdown-item" href="Music.html">Music</a></li>
                      <li><a class="dropdown-item" href="Artist.html">Artist</a></li>
                      <li>
                      <hr class="dropdown-divider">
                      </li>
                      <li><a class="dropdown-item" href="About.html">About</a></li>
                  </ul>
                  </li>
              </ul>
              <form class="d-flex mt-3" role="search">
                  <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                  <button class="btn btn-success" type="submit">Search</button>
              </form>
            </div>
          </div>
        </div>
      </nav>

    </div>

    <div id="containerPrincipale">

      <div id="ContainerVideo">
        <div id="carouselExample" class="carousel slide">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <iframe class="video" width="560" height="315" src="https://www.youtube.com/embed/nfWlot6h_JM?si=HDNU2maz7s0tc_Hg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>

            <div class="carousel-item">
              <iframe class="video" width="560" height="315" src="https://www.youtube.com/embed/4NRXx6U8ABQ?si=1IhHmRU42IcRvbNR" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>

            <div class="carousel-item">
              <iframe class="video" width="560" height="315" src="https://www.youtube.com/embed/YQHsXMglC9A?si=XOH6-7qnDcp8oncw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>

          </div>

          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>

          <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
          


      <div id="AggiungiCommento">
        <div class="modal fade" id="exampleModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" >
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalToggleLabel">Scrivi Commento</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>

              <div id="containerTextFiel">
                <input type="text" placeholder="inserisci il commento..." id="inputText"></input>
              </div>
                
              <div class="modal-footer">
                <button onclick="handleAggiungiCommento()" class="btn btn-primary" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal">Aggiungi</button>
              </div>
            </div>
          </div>
        </div>
        <button class="btn btn-primary" data-bs-target="#exampleModalToggle" data-bs-toggle="modal">Aggiungi Commento</button>
      </div>
      

      <div id="containerCommenti">
        <div class="card" id="segnala1" style="width: 80vw; margin:2vh;">
          <h5 class="card-header">Authors</h5>
          
          <div class="card-body">
            <h5 class="card-title">Lorem ipsum dolor sit amet, consectetur adipisci elit, sed do eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullamco laboriosam, nisi ut aliquid ex ea commodi consequatur.</h5>
            <button class="btn btn-primary" onclick="handleSegnala('segnala1')">Segnala</button>
          </div>
        </div>

        <div class="card" id="segnala2" style="width: 80vw; margin:2vh;">
          <h5 class="card-header">Authors</h5>
          <div class="card-body">
            <h5 class="card-title">Lorem ipsum dolor sit amet, consectetur adipisci elit, sed do eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullamco laboriosam, nisi ut aliquid ex ea commodi consequatur.</h5>
            <button class="btn btn-primary" onclick="handleSegnala('segnala2')">Segnala</button>
          </div>
        </div>
      </div>

      
      <div id="aggiungiPost">
        <button id="btnCitazione" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#citazione"><h6>Aggiungi Citazione</h6></button>   
          <div class="modal fade" id="citazione" aria-hidden="true" aria-labelledby="FotoButton" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="citazione">Aggiungi Citazione</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div id="containerTextFiel">
                  <input id="text" type="text" placeholder="inserisci testo..."></input>
                  <input id="fotoValue" type="file"></input>
                </div>
                <div class="modal-footer">
                  <button id="foto" onclick="handleAggiungi()" class="btn btn-primary">Carica</button>
                </div>
              </div>
            </div>
          </div>
      </div>

      
      <div id="containerBlog">
        <h5>Blog</h5>
        <h6 id="qui">Qui potrai raccogliere tutte le tue citazioni musicali preferite: </h6>
        <div id="cardBlogcontainer">
            <div class="card" style="width: 80vw; margin: 2vh;">
                <h5 class="card-header">Authors</h5>
                <div class="card-body">
                    <h5 class="card-title">"AND THE FIRST NIGHT THAT YOU SAW ME. NOTHING WAS GONNA STOP ME."</h5>
                    <img src="" id="image1" class="img-fluid" style="display:none;">
                    <button id="up_1" onclick="handleLike('1')" class="btn btn-primary"><i class="fas fa-thumbs-up"></i><h6 id="number_1">0</h6></button>
                    <button id="down_1" onclick="handleDislike('1')" class="btn btn-primary"><i class="fas fa-thumbs-down"></i><h6 id="number2_1">0</h6></button>
                </div>
            </div>
        </div>
      </div>
    
      

    

      <footer id="footerBase">
        <h4 id="beat">BeatFlow</h4>

        <div id="firstId">

            <h5>Contact Us:</h5>
            <h6><i class="fas fa-phone-alt"></i> tel: 200 200 200 </h6>
            <h6><i class="fas fa-fax"></i> fax: 200 200 200 </h6>
           
        </div>

        <div id="icon">
            <h5>Follow Us on:</h5>
            <a href="#" style="margin-right: 2.4vw;"><i class="fab fa-facebook"></i></a>
            <span></span>
            <a href="#" style="margin-right: 2.4vw;"><i class="fab fa-instagram"></i></a>
            <span></span>
            <a href="#"><i class="fab fa-tiktok"></i></a>
        </div>
      </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var addButton = document.querySelector('#AggiungiCommento button[data-bs-target="#exampleModalToggle"]');
            var inputText = document.getElementById('inputText');
            addButton.addEventListener('click', function() {
                var commentText = inputText.value;
                console.log('Nuovo commento:', commentText);
                inputText.value = '';

                var modal = document.querySelector('#exampleModalToggle');
                var modalToggle = bootstrap.Modal.getInstance(modal);
                modalToggle.hide();
            });
        });
    </script>

    <script>

      function handleLike(commentId) {
        var numberElement = document.getElementById('number_' + commentId);
        var currentNumber = numberElement.innerText;
        var currentLikes = parseInt(currentNumber);
        var newLikes = currentLikes + 1;
        numberElement.innerText = newLikes;
      }
    </script>
  

    <script>
      function handleDislike(commentId) {
        var numberElement = document.getElementById('number2_' + commentId);
        var currentNumber = numberElement.innerText;
        var currentLikes = parseInt(currentNumber);
        var newLikes = currentLikes + 1;
        numberElement.innerText = newLikes;
      }
    </script>

    <script>
      function handleSegnala(elementId) {
          var elementToRemove = document.getElementById(elementId);
          elementToRemove.remove();
      }
    </script>

    
    <script>
      function handleAggiungiCommento() {
         
          var commentText = document.getElementById('inputText').value;
          var existingComments = document.querySelectorAll('#containerCommenti .card').length;
          var newId = 'segnala' + (existingComments + 1);
          var newComment = document.createElement('div');
          newComment.classList.add('card');
          newComment.id = newId; // Assegna l'ID incrementato alla nuova carta
          newComment.style.width = '80vw';
          newComment.style.margin = '2vh';
          newComment.innerHTML = `
            <h5 class="card-header">Authors</h5>
            <div class="card-body">
                <h5 class="card-title">${commentText}</h5>
                <button class="btn btn-primary" onclick="handleSegnala('${newId}')">Segnala</button>
            </div>
          `;

          // Aggiungi l'elemento card al div "containerCommenti"
          var containerCommenti = document.getElementById('containerCommenti');
          containerCommenti.appendChild(newComment);

          // Cancella il testo dall'input del commento
          document.getElementById('inputText').value = '';

          // Chiudi il modal
          var modal = document.getElementById('exampleModalToggle');
          var modalInstance = bootstrap.Modal.getInstance(modal);
          modalInstance.hide();
      }
    </script>

    <script>
      function handleAggiungi() {
        var commentText = document.getElementById('text').value;
        var foto = document.getElementById('fotoValue').files[0];

        
        var existingComments = document.querySelectorAll('#cardBlogcontainer .card').length;
        var newId = 'segnala' + (existingComments + 1);
        var newComment = document.createElement('div');
        newComment.classList.add('card');
        newComment.id = newId;
        newComment.style.width = '80vw';
        newComment.style.margin = '2vh';
        newComment.innerHTML = `
          <h5 class="card-header">Authors</h5>
          <div class="card-body">
            <h5 class="card-title">${commentText}</h5>
            <img src="" id="image${newId}" class="img-fluid" style="display:none;">
            <button id="up_${newId}" onclick="handleLike('${newId}')" class="btn btn-primary"><i class="fas fa-thumbs-up"></i><h6 id="number_${newId}">0</h6></button>
            <button id="down_${newId}" onclick="handleDislike('${newId}')" class="btn btn-primary"><i class="fas fa-thumbs-down"></i><h6 id="number2_${newId}">0</h6></button>
          </div>
        `;


        var containerBlog = document.getElementById('cardBlogcontainer');
        containerBlog.appendChild(newComment);

        var reader = new FileReader();
        reader.onload = function(e) {
            var image = document.getElementById('image' + newId);
            image.src = e.target.result;
            image.style.display = 'block';
            image.style.width = '20%'; // Imposta la larghezza dell'immagine al 50%
        };
        reader.readAsDataURL(foto);

        // Cancella il testo dall'input del commento e dall'input dell'immagine
        document.getElementById('text').value = '';
        document.getElementById('fotoValue').value = '';

        // Chiudi il modal
        var modalButton = document.getElementById('btnCitazione');
        var modalInstance = bootstrap.Modal.getInstance(modalButton);
        modalInstance.hide();

      }
    </script>

    </body>
</html>
